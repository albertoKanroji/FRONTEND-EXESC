<ngx-loading
    [show]="loading"
    [config]="{ backdropBorderRadius: '3px' }"
></ngx-loading>

<div class="card p-fluid">
    <h5>{{ isEdit ? "Edicion" : "Creacion" }} de Actividad</h5>

    <form [formGroup]="actividadForm">
        <div class="p-formgrid grid">
            <div class="field col">
                <label for="username">Nombre</label>
                <input
                    pInputText
                    id="name"
                    aria-describedby="username-help"
                    formControlName="name"
                />
            </div>
            <div class="field col">
                <label for="periodos">Tipo De Actividad</label>
                <p-dropdown
                    [options]="actividades"
                    formControlName="type_of_activities_id"
                    placeholder="Tipo de Actividad"
                ></p-dropdown>
            </div>
            <div class="field col">
                <label>Imagen</label>
                <p-fileUpload
                    mode="basic"
                    name="demo"
                    accept="image/*"
                    [maxFileSize]="1000000"
                    (onSelect)="onFileSelect($event)"
                    chooseIcon="pi-cloud-upload"
                    chooseLabel="Seleciona una imagen"
                ></p-fileUpload>
                <img
                    *ngIf="base64Image"
                    [src]="base64Image"
                    alt="Vista previa de la imagen"
                    style="max-width: 100px; max-height: 100px; margin-top: 5px"
                />
            </div>
        </div>
    </form>
    <div class="flex-container">
        <button
            pButton
            label="{{ isEdit ? 'Guardar Edicion' : 'Guardar' }}"
            class="p-button-success"
            icon="pi pi-database"
            (click)="onSubmit()"
            style="width: auto; max-width: 30%"
        ></button>
    </div>
</div>
